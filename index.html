<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Lena Cherchenko – QA Engineer CV</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="QA Engineer CV - Manual & Automation Testing, API, Microservices, Integrations"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>

<!-- SCREEN VERSION (website view) -->
<div class="page screen-only">
  <button class="download-btn" type="button" onclick="downloadPDF()">
    Download PDF
  </button>

  <!-- Everything below here is your current screen CV markup -->
  <div class="name-wrapper">
    <img src="photo.jpg" alt="Profile photo" class="profile-photo" />
    <header class="header">
      <div class="name-block">
        <h1>Lena Cherchenko</h1>
        <h2>QA Engineer · Manual & Automation · ISTQB Certified</h2>
      </div>
      <div class="contact">
        <div><a href="mailto:lenazurich@gmail.com">lenazurich@gmail.com</a></div>
        <div>+41 76 588 66 45</div>
        <div>Zurich, Switzerland</div>
      </div>
    </header>
  </div>

  <div class="layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <!-- your current sidebar content -->
      ...
    </aside>

    <!-- Main -->
    <main class="main">
      <!-- your current main content -->
      ...
    </main>
  </div>
</div>

<!-- PDF VERSION (print/PDF view) -->
<div class="page pdf-only">
  <!-- NOTE: no download button here -->

  <header class="pdf-header">
    <div class="pdf-title">
      <h1>Lena Cherchenko</h1>
      <div class="pdf-subtitle">QA Engineer · Manual & Automation · ISTQB Certified</div>
    </div>

    <div class="pdf-contact">
      <div>lenazurich@gmail.com</div>
      <div>+41 76 588 66 45</div>
      <div>Zurich, Switzerland</div>
    </div>
  </header>

  <div class="pdf-layout">
    <aside class="pdf-sidebar">
      <!-- reuse the same content, but without heavy backgrounds -->
      <section class="section-block">
        <h3 class="section-title">About me</h3>
        <p class="about-text">...same text...</p>
      </section>

      <section class="section-block">
        <h3 class="section-title">Skills</h3>
        <!-- same skills -->
      </section>

      <!-- languages, education, courses -->
    </aside>

    <main class="pdf-main">
      <section class="section-block">
        <h3 class="section-title">Work experience</h3>
        <!-- same work experience content -->
      </section>
    </main>
  </div>
</div>

    <script>
      async function downloadPDF() {
        try {
          const response = await fetch("/generate-pdf");

          if (!response.ok) {
            const text = await response.text().catch(() => "");
            alert(`Error generating PDF: ${response.status}\n${text}`);
            return;
          }

          const blob = await response.blob();
          const url = window.URL.createObjectURL(blob);

          const a = document.createElement("a");
          a.href = url;
          a.download = "cv.pdf";
          a.click();

          window.URL.revokeObjectURL(url);
        } catch (e) {
          alert(`Request failed: ${e?.message || e}`);
        }
      }
    </script>
  </body>
</html>
